[Unit]
Description=DeepSeek-OCR Streamlit Frontend
After=network.target deepseek-api.service
Wants=network-online.target
Requires=deepseek-api.service

[Service]
Type=simple
User=ubuntu
Group=ubuntu
WorkingDirectory=/opt/deepseek-ocr
Environment="PATH=/opt/deepseek-ocr/venv/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin"
ExecStart=/opt/deepseek-ocr/venv/bin/streamlit run app/streamlit_app.py --server.port 8501 --server.address 0.0.0.0 --server.headless true
Restart=always
RestartSec=10
StandardOutput=append:/opt/deepseek-ocr/logs/frontend.log
StandardError=append:/opt/deepseek-ocr/logs/frontend-error.log

# Resource limits
LimitNOFILE=65536
TimeoutStartSec=60

[Install]
WantedBy=multi-user.target
